# Environment Variables Template for Render Deployment
# Copy these values and have them ready when deploying via Render Blueprint

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================

# MongoDB Connection String
# Get this from MongoDB Atlas after creating your cluster
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
# Example: mongodb+srv://ml_admin:MySecurePass123@cluster0.abc123.mongodb.net/smart_ml_assistant?retryWrites=true&w=majority
MONGO_URI=mongodb+srv://Harshal:Harshal%40123@cluster0.hguakgq.mongodb.net/smartml?appName=Cluster0

# Secret Key for JWT Token Signing
# Generate using: python -c "import secrets; print(secrets.token_urlsafe(32))"
# This should be a long, random string (32+ characters)
# PRODUCTION SECRET - Keep this secure and never share!
SECRET_KEY=rRSooDw_EKXFTyH9QGx6LNTWUoHWdz2UeEu1IwBGnCs

# JWT Algorithm (Leave as HS256)
ALGORITHM=HS256

# Access Token Expiration Time (in minutes)
# 30 minutes is recommended for security
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Origins
# After deployment, update this with your frontend URL
# Initially leave empty, then update to: https://smart-ml-frontend.onrender.com
# For multiple origins, separate with commas: https://app1.com,https://app2.com
CORS_ORIGINS=

# Environment Mode
# Set to "production" for Render deployment
ENVIRONMENT=production

# =============================================================================
# OPTIONAL ENVIRONMENT VARIABLES (Google OAuth)
# =============================================================================
# Only required if you want to enable Google OAuth authentication
# Get these from Google Cloud Console: https://console.cloud.google.com

# Google OAuth Client ID
# Example: 123456789-abc123def456.apps.googleusercontent.com
GOOGLE_CLIENT_ID=

# Google OAuth Client Secret
# Example: GOCSPX-abc123def456ghi789jkl012
GOOGLE_CLIENT_SECRET=

# Google OAuth Redirect URI
# After deployment, set this to: https://smart-ml-frontend.onrender.com/auth/callback
GOOGLE_REDIRECT_URI=

# =============================================================================
# AUTO-GENERATED BY RENDER (DO NOT SET MANUALLY)
# =============================================================================
# The following variables are automatically set by Render:
# - PYTHON_VERSION (set in render.yaml to 3.11.0)
# - NODE_VERSION (set in render.yaml to 20.11.0)
# - PORT (automatically assigned by Render)

# =============================================================================
# INSTRUCTIONS FOR USE
# =============================================================================

# Step 1: MongoDB Setup
# ----------------------
# 1. Create a MongoDB Atlas account at https://www.mongodb.com/cloud/atlas
# 2. Create a free M0 cluster
# 3. Create a database user with username and password
# 4. Whitelist all IPs (0.0.0.0/0) in Network Access
# 5. Get your connection string and paste it in MONGO_URI above
# 6. Replace <password> in the connection string with your actual password
# 7. Add your database name (e.g., smart_ml_assistant) before the ?

# Step 2: Generate SECRET_KEY
# ----------------------------
# Run this command in your terminal:
#
# On Windows (PowerShell):
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# On macOS/Linux:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Copy the output and paste it in SECRET_KEY above

# Step 3: Deploy to Render
# -------------------------
# 1. Push your code to GitHub
# 2. Go to Render Dashboard: https://dashboard.render.com
# 3. Click "New +" -> "Blueprint"
# 4. Connect your GitHub repository
# 5. Render will detect render.yaml and prompt for these environment variables
# 6. Paste the values from this file when prompted
# 7. Click "Apply" to start deployment

# Step 4: Update CORS After Deployment
# -------------------------------------
# 1. After frontend deploys, you'll get a URL (e.g., https://smart-ml-frontend.onrender.com)
# 2. Go to your backend service in Render
# 3. Click "Environment" -> Edit "CORS_ORIGINS"
# 4. Set it to your frontend URL
# 5. Save changes (backend will redeploy)

# Step 5: Google OAuth (Optional)
# --------------------------------
# 1. Go to Google Cloud Console: https://console.cloud.google.com
# 2. Create a project or select existing one
# 3. Enable Google+ API
# 4. Create OAuth 2.0 credentials
# 5. Add authorized redirect URI: https://smart-ml-frontend.onrender.com/auth/callback
# 6. Copy Client ID and Client Secret
# 7. Paste values in the optional variables above
# 8. Update GOOGLE_REDIRECT_URI with your frontend URL

# =============================================================================
# QUICK CHECKLIST
# =============================================================================
# Before deploying, ensure you have:
# [ ] MongoDB Atlas cluster created and connection string ready
# [ ] Database user created with read/write permissions
# [ ] IP whitelist set to 0.0.0.0/0 in MongoDB Atlas
# [ ] SECRET_KEY generated using the command above
# [ ] Code pushed to GitHub
# [ ] Render account created and GitHub connected
# [ ] (Optional) Google OAuth credentials if using Google Sign-In

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - NEVER commit this file with actual values to Git
# - Keep your SECRET_KEY secure and never share it
# - Use strong, unique passwords for MongoDB
# - Regularly rotate your SECRET_KEY in production
# - Monitor your MongoDB Atlas access logs
# - Enable 2FA on your MongoDB Atlas and Render accounts

# =============================================================================
# TROUBLESHOOTING
# =============================================================================
# If deployment fails:
# - Check Render logs for specific error messages
# - Verify MongoDB connection string format
# - Ensure all required variables are set
# - Test MongoDB connection locally first
# - Check that CORS_ORIGINS is set after frontend deployment
